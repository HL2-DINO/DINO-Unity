<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DINO-Unity21: Tutorials</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-paragraph-link.js" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/HL2-DINO/DINO-DLL" class="github-corner" title="View source on GitHub" target="_blank" rel="noopener noreferrer">
  <svg viewBox="0 0 250 250" width="85" height="85" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
  <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="doc_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">DINO-Unity21
   </div>
   <div id="projectbrief">Sample Unity 2021 Project for HL2-DINO</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__tutorials.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Tutorials</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md11"></a> </p>
<h1><a class="anchor" id="autotoc_md12"></a>
1. Using the DINO-Unity app</h1>
<h2><a class="anchor" id="autotoc_md13"></a>
Scene Info</h2>
<p>The project contains two scenes:</p>
<ol type="1">
<li><code>SampleScene.scene</code> Bare-bones app, just displays info and positions virtual objects based on marker location</li>
<li><code>SampleSceneMRTK.scene</code> Does everything that <code>SampleScene</code> does, but has MRTK interactions set up and enabled, so you can resize windows, and interact with the DLL through 3D buttons</li>
</ol>
<p>Both scenes contain three main groups of objects.</p>
<ol type="1">
<li>Displays of sensor data, grouped under an object called RMContainer. This is just a 2D display of sensor images from the AHAT sensor. The shader used for this image originates from <a href="https://github.com/petergu684/HoloLens2-ResearchMode-Unity/">Hololens2-ResearchMode-Unity</a>.</li>
<li>Two debug text canvases:<ul>
<li><code>CanvasText</code> has been used as a very basic error printer, and is also used to retrieve a profiler string from <a href="https://github.com/HL2-DINO/DINO-DLL"><code>DINO-DLL</code></a>, giving you more info about how long each image processing step takes.</li>
<li><code>ToolDictionaryPrinter</code> which prints a 4x4 matrix for each tool you're tracking.</li>
</ul>
</li>
</ol>
<blockquote class="doxtable">
<p>&zwj;<b>Note</b>: The two canvases and sensor displays are all grouped under <code>RMContainer</code>, so you can move around sensor images and debug string canvases as one big object. This will be referred to as a 'visualiser' for the rest of the doc. </p>
</blockquote>
<p>3. Tracked tools: virtual models which appear rigidly fixed to your tools <br  />
</p>
<h2><a class="anchor" id="autotoc_md14"></a>
Running the App</h2>
<p>By default, the app has been set up to compile and run <code>SampleSceneMRTK.scene</code> on the HoloLens 2.</p>
<p>Once you've deployed the app to your HoloLens 2 (see README.md in the repo for instructions on this), you have a basic UI and some buttons which you can use.</p>
<p><img src="img/uiscreengrab.jpg" alt="Bringing up the palm-attached UI, by showing the inside of your flattened left palm" class="inline"/></p>
<p>To use these buttons, open up and face your left palm towards the headset, and a little palm menu with 3 buttons should appear. You can press these buttons with air-taps or by physically poking them with your right index finger.</p>
<p><b>(1) Print Profiler</b></p>
<p>This button will dump a profiler string to a file located at <code>ApplicationData.Current.LocalFolder.Path</code>. This provides timing info on processes being carried out on the C++ DLL side. You can decorate the DLL code with calls to the Shiny profiler, which will change what information is profiled.</p>
<p>When you hit the button, the string will print to the canvas, and be automatically saved to the local data store for the app, which you can access from the Windows Device Portal. Once you connect to the headset through the Device Portal, go to the following location (e.g. for Unity 2019):</p>
<p><code>LocalAppData\Dino-Unity-2019_1.....\LocalState\</code></p>
<div class="image">
<img src="saved_file.PNG" alt=""/>
</div>
    <p><b>(2) Fetch Visualiser</b></p>
<p>This button is intended to retrieve the visualiser for the sensor images and the debug text if you move around in space. It will simply move the visualiser to face the user and place it about a metre away.</p>
<p><b>(3) Toggle Sensor Data</b></p>
<p>In theory <a href="https://github.com/HL2-DINO/DINO-DLL"><code>DINO-DLL</code></a> will always be processing sensor images from the headset to detect tools. But we can choose to toggle whether these images are actually updated/processed for display on the Unity side. By toggling this off, you can save some basic image processing steps which can help speed the app up marginally. When the toggle is off, we stop displaying sensor images, and vice versa.</p>
<h1><a class="anchor" id="tracked-tool"></a>
2. TrackedTool Definition</h1>
<p>Universally across the DINO Unity app, we describe a trackable IR instrument with the following properties:</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespace_tool_tracking_utils.html">ToolTrackingUtils</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">class </span>TrackedTool</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="class_tool_tracking_utils_1_1_tracked_tool.html#a72f8bff722416073dc625e1f0a692959">ToolID</a>;</div>
<div class="line">        <span class="keyword">public</span> <span class="keywordtype">string</span> <a class="code hl_variable" href="class_tool_tracking_utils_1_1_tracked_tool.html#a4813882fba7b150d7d94cedb9a9514ba">ToolName</a>;</div>
<div class="line">        <span class="keyword">public</span> List&lt;Vector3&gt; <a class="code hl_variable" href="class_tool_tracking_utils_1_1_tracked_tool.html#ae6281ced973bf9c82ab61128d5a88abe">ToolMarkerTriplets</a>;</div>
<div class="line">        <span class="keyword">public</span> Transform <a class="code hl_variable" href="class_tool_tracking_utils_1_1_tracked_tool.html#a2a177a7b32f82adf9426e4a5ffe2d0a5">ToolUnityTransform</a>;</div>
<div class="line">        <span class="keyword">public</span> Matrix4x4 <a class="code hl_variable" href="class_tool_tracking_utils_1_1_tracked_tool.html#a365241b9611f48e38815c2bb63140184">Tool_HoloFrame_LH</a>;</div>
<div class="line">        <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code hl_variable" href="class_tool_tracking_utils_1_1_tracked_tool.html#a2f35ad5f58d108ef9202bf10bcd2ce41">VisibleToHoloLens</a>;</div>
<div class="line">        <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="class_tool_tracking_utils_1_1_tracked_tool.html#a233ddd232756628ab3ef433ed627efc5">TimestampLastSeen</a>;        </div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_tool_tracking_utils_1_1_tracked_tool_html_a233ddd232756628ab3ef433ed627efc5"><div class="ttname"><a href="class_tool_tracking_utils_1_1_tracked_tool.html#a233ddd232756628ab3ef433ed627efc5">ToolTrackingUtils.TrackedTool.TimestampLastSeen</a></div><div class="ttdeci">float TimestampLastSeen</div><div class="ttdoc">Timestamp updated on the Unity side to track how long a tool has been visible for.</div><div class="ttdef"><b>Definition</b> ToolTrackingUtils.cs:55</div></div>
<div class="ttc" id="aclass_tool_tracking_utils_1_1_tracked_tool_html_a2a177a7b32f82adf9426e4a5ffe2d0a5"><div class="ttname"><a href="class_tool_tracking_utils_1_1_tracked_tool.html#a2a177a7b32f82adf9426e4a5ffe2d0a5">ToolTrackingUtils.TrackedTool.ToolUnityTransform</a></div><div class="ttdeci">Transform ToolUnityTransform</div><div class="ttdoc">Unity transform corresponding to the tool that we will position.</div><div class="ttdef"><b>Definition</b> ToolTrackingUtils.cs:37</div></div>
<div class="ttc" id="aclass_tool_tracking_utils_1_1_tracked_tool_html_a2f35ad5f58d108ef9202bf10bcd2ce41"><div class="ttname"><a href="class_tool_tracking_utils_1_1_tracked_tool.html#a2f35ad5f58d108ef9202bf10bcd2ce41">ToolTrackingUtils.TrackedTool.VisibleToHoloLens</a></div><div class="ttdeci">bool VisibleToHoloLens</div><div class="ttdoc">Flag bool indicating if the HL2 can see the tool in the last set of sensor frames.</div><div class="ttdef"><b>Definition</b> ToolTrackingUtils.cs:49</div></div>
<div class="ttc" id="aclass_tool_tracking_utils_1_1_tracked_tool_html_a365241b9611f48e38815c2bb63140184"><div class="ttname"><a href="class_tool_tracking_utils_1_1_tracked_tool.html#a365241b9611f48e38815c2bb63140184">ToolTrackingUtils.TrackedTool.Tool_HoloFrame_LH</a></div><div class="ttdeci">Matrix4x4 Tool_HoloFrame_LH</div><div class="ttdoc">Transform matrix of tool pose, left-handed and in metres.</div><div class="ttdef"><b>Definition</b> ToolTrackingUtils.cs:43</div></div>
<div class="ttc" id="aclass_tool_tracking_utils_1_1_tracked_tool_html_a4813882fba7b150d7d94cedb9a9514ba"><div class="ttname"><a href="class_tool_tracking_utils_1_1_tracked_tool.html#a4813882fba7b150d7d94cedb9a9514ba">ToolTrackingUtils.TrackedTool.ToolName</a></div><div class="ttdeci">string ToolName</div><div class="ttdoc">String identifier, purely for labelling in the Unity Editor.</div><div class="ttdef"><b>Definition</b> ToolTrackingUtils.cs:27</div></div>
<div class="ttc" id="aclass_tool_tracking_utils_1_1_tracked_tool_html_a72f8bff722416073dc625e1f0a692959"><div class="ttname"><a href="class_tool_tracking_utils_1_1_tracked_tool.html#a72f8bff722416073dc625e1f0a692959">ToolTrackingUtils.TrackedTool.ToolID</a></div><div class="ttdeci">int ToolID</div><div class="ttdoc">Numeric ID which is passed into the HL2-DINO-DLL. This is cast into a uint8 on the C++ side.</div><div class="ttdef"><b>Definition</b> ToolTrackingUtils.cs:22</div></div>
<div class="ttc" id="aclass_tool_tracking_utils_1_1_tracked_tool_html_ae6281ced973bf9c82ab61128d5a88abe"><div class="ttname"><a href="class_tool_tracking_utils_1_1_tracked_tool.html#ae6281ced973bf9c82ab61128d5a88abe">ToolTrackingUtils.TrackedTool.ToolMarkerTriplets</a></div><div class="ttdeci">List&lt; Vector3 &gt; ToolMarkerTriplets</div><div class="ttdoc">XYZ triplets of marker-centres in metres (left-handed for Unity)</div><div class="ttdef"><b>Definition</b> ToolTrackingUtils.cs:32</div></div>
<div class="ttc" id="anamespace_tool_tracking_utils_html"><div class="ttname"><a href="namespace_tool_tracking_utils.html">ToolTrackingUtils</a></div><div class="ttdef"><b>Definition</b> ToolTrackingUtils.cs:12</div></div>
</div><!-- fragment --><p>In the lifecycle of the app, the properties are used as follows:</p>
<ul>
<li><code>ToolID</code>: Used as a unique identifier in internal maps/dictionaries.</li>
<li><code>ToolName</code>: Used to name the GameObject associated with this tool in the Unity hierarchy.</li>
<li><code>ToolMarkerTriplets</code>: Internal storage of all the marker-centre locations (in left handed coordinates).</li>
<li><code>ToolUnityTransform</code>: Unity transform corresponding to the tool that we will position. This transform can be used as a parent for things we want to attach to the TrackedTool (3D models or other key-points).</li>
<li><code>Tool_HoloFrame_LH</code>: A 4x4 transform matrix which describes where the tool is with respect to the HoloLens 2's world frame (a coordinate frame located at the startup position and rotation the headset).</li>
<li><code>VisibleToHoloLens</code>: Bool which reflects the visiblity of the tool to the headset, set from the DLL side.</li>
<li><code>TimestampLastSeen</code>: A float value which is updated on the Unity side to track. At the moment, this is just used to track if the tool has not been seen for a number of seconds.</li>
</ul>
<h1><a class="anchor" id="json-object-formatting"></a>
3. JSON Object Formatting</h1>
<p>This app reads in a JSON object from the <code>StreamingAssets</code> folder in a particular format to understand the geometries of tools we're interested in tracking.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">&quot;fileSettings&quot;: {&quot;units&quot; : &quot;mm&quot;},</div>
<div class="line">&quot;tools&quot;: [</div>
<div class="line">    {&quot;name&quot;: &quot;Stylus&quot;,</div>
<div class="line">    &quot;id&quot;: 8,</div>
<div class="line">    &quot;coordinates&quot;:</div>
<div class="line">    [[&quot;0&quot;,&quot;0&quot;,&quot;0&quot;],</div>
<div class="line">    [&quot;0&quot;,&quot;70&quot;,&quot;0&quot;],</div>
<div class="line">    [&quot;0&quot;,&quot;137.01&quot;,&quot;0&quot;],</div>
<div class="line">    [&quot;-39.39&quot;,&quot;91.75&quot;,&quot;0&quot;],</div>
<div class="line">    [&quot;47.04&quot;,&quot;92.16&quot;,&quot;0&quot;]]},</div>
<div class="line">    </div>
<div class="line">    {&quot;name&quot;: &quot;Triangle&quot;,</div>
<div class="line">    &quot;id&quot;: 9,</div>
<div class="line">    &quot;coordinates&quot;:</div>
<div class="line">    [[&quot;0&quot;,&quot;0&quot;,&quot;0&quot;],</div>
<div class="line">    [&quot;97.29&quot;,&quot;-11.77&quot;,&quot;0&quot;],</div>
<div class="line">    [&quot;112.23&quot;,&quot;38.4&quot;,&quot;0&quot;]]}</div>
<div class="line">]</div>
<div class="line">}</div>
</div><!-- fragment --><p> There are two top-level file-keys: <code>fileSettings</code> and <code>tools</code>.</p>
<h2><a class="anchor" id="autotoc_md15"></a>
File Settings</h2>
<p>You can choose to specify file units as metres (<code>m</code>) or millimetres (<code>mm</code>).</p>
<h2><a class="anchor" id="autotoc_md16"></a>
Tools</h2>
<p>The <code>tools</code> field contains an array of key-value packets. Each array member, which is a single tool, should be structured like this:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    &quot;name&quot;: &quot;Stylus&quot;,</div>
<div class="line">    &quot;id&quot;: 8,</div>
<div class="line">    &quot;coordinates&quot;:</div>
<div class="line">        [</div>
<div class="line">         [&quot;0&quot;,&quot;0&quot;,&quot;0&quot;],</div>
<div class="line">         [&quot;0&quot;,&quot;70&quot;,&quot;0&quot;],</div>
<div class="line">         [&quot;0&quot;,&quot;137.01&quot;,&quot;0&quot;],</div>
<div class="line">         [&quot;-39.39&quot;,&quot;91.75&quot;,&quot;0&quot;],</div>
<div class="line">         [&quot;47.04&quot;,&quot;92.16&quot;,&quot;0&quot;]</div>
<div class="line">        ]</div>
<div class="line">}</div>
</div><!-- fragment --> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Key   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>name</code>   </td><td class="markdownTableBodyNone">A string identifier, used to label the Transform associated with this tool in Unity    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ID</code>   </td><td class="markdownTableBodyNone">A unique numeric value (should be between 0-255), which is used to identify this tool in internal maps/dictionaries    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>coordinates</code>   </td><td class="markdownTableBodyNone">An array composed of 'coordinate' values, telling you the 3D location of each marker attached to the tool.   </td></tr>
</table>
<blockquote class="doxtable">
<p>&zwj;<b>Note:</b> A single 'coordinate' is a 3D vector. So a tool with 5 markers, would have 5 entries in the <code>coordinates</code> array. </p>
</blockquote>
<p>Each coordinate itself is an array, containing 3 string values, ordered as [x,y,z]. This value corresponds to the centre of each IR reflective marker. <b>IMPORTANT</b>: The units should be consistent within a single JSON file for all tools. These values should follow a right-handed convention. Left handed conversion is done inside Unity by inverting the 'z' component.</p>
<h1><a class="anchor" id="autotoc_md17"></a>
4. Importing Custom 3D Models</h1>
<p>By default, an <code>.obj</code> file is defined to have right-handed vertex data. When importing into Unity, there appears to be an automatic process carried out by the Unity editor which inverts all x coordinate data.</p>
<p>In this app, the convention is to invert the z values of all right-handed coordinates to go into Unity's left-handed coordinate system (<a href="https://learn.microsoft.com/en-us/windows/mixed-reality/design/coordinate-systems#spatial-coordinate-systems">check this link</a> for a good reference diagram).</p>
<p>So if you want to import in a 3D model into Unity for this app: you need to account for the following:</p>
<ol type="1">
<li>Make sure your 3D model is in the same coordinate system as your tool config data, and that they share the same origin.</li>
<li>Inside the inspector for your 3D model on Unity, you'll need to set a rotation around the y-axis of 180 degrees from the inspector on Unity, to account the automatic x inversion done on import.</li>
</ol>
<h1><a class="anchor" id="custom-geometries"></a>
5. Tracking Custom Geometries</h1>
<p>(1) Make sure you place <a class="el" href="md__tutorials.html#json-object-formatting">a properly formatted JSON file</a> in the <code>StreamingAssets</code> folder</p>
<p>(2) In your Unity scene, make sure you have exactly one instance of <code><a class="el" href="_research_mode_controller_8cs.html" title="Main controller/interaction point in Unity for the HL2-DINO .dll.">ResearchModeController.cs</a></code> and <code><a class="el" href="_unity_tool_manager_8cs.html" title="Main Unity script for processing encoded double arrays passed in from the HL2-DINO-DLL and using this...">UnityToolManager.cs</a></code></p>
<p>(3) From the menu-bar: <em>[DINO Unity] -&gt; [DINO Setup]</em>:</p>
<div class="image">
<img src="blankDinoEditorSetup.PNG" alt=""/>
<div class="caption">
Blank unpopulated DINO Setup menu</div></div>
    <p>(4) Populate fields 1 &amp; 2, click on the little target icon on the right to automatically pop up a menu that lets you select your scene's instances of <code><a class="el" href="_research_mode_controller_8cs.html" title="Main controller/interaction point in Unity for the HL2-DINO .dll.">ResearchModeController.cs</a></code> and <code><a class="el" href="_unity_tool_manager_8cs.html" title="Main Unity script for processing encoded double arrays passed in from the HL2-DINO-DLL and using this...">UnityToolManager.cs</a></code></p>
<p>(5) Use the file-picker to select whichever config file inside your <code>StreamingAssets</code> folder you want to compile the app with</p>
<p>(6) Select a parent transform for a GameObject under which all your 'TrackedTools' will be grouped. The name or object you choose shouldn't matter too much, this is just so we can place all the TrackedTools under one parent object.</p>
<p>(7) Hit the button to populate objects, which will:</p>
<p>A. Tell your instance of <code><a class="el" href="_research_mode_controller_8cs.html" title="Main controller/interaction point in Unity for the HL2-DINO .dll.">ResearchModeController.cs</a></code> where to look in the <code>StreamingAssets</code> folder for a config file, and</p>
<p>B. Properly format and populate the <code>ToolsTrackedByHololens</code> field in your instance of <code><a class="el" href="_unity_tool_manager_8cs.html" title="Main Unity script for processing encoded double arrays passed in from the HL2-DINO-DLL and using this...">UnityToolManager.cs</a></code></p>
<div class="image">
<img src="filledDinoEditorSetup.PNG" alt=""/>
<div class="caption">
Populated DINO Settings</div></div>
    <p>(8) Review your Unity scene, you should see the above properties have changed in your scripts.</p>
<div class="image">
<img src="UnityToolManager_example.PNG" alt=""/>
<div class="caption">
Properly initialised UnityToolMananger.cs script</div></div>
    <p><br  />
</p>
<div class="image">
<img src="hierarchy_example.PNG" alt=""/>
<div class="caption">
Object hierarchy in Unity scene, with two tracked tools set up as per the example config file below</div></div>
    <p>Example config file used:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">&quot;fileSettings&quot;: {&quot;units&quot; : &quot;mm&quot;},</div>
<div class="line">&quot;tools&quot;: [</div>
<div class="line">    {&quot;name&quot;: &quot;Stylus&quot;,</div>
<div class="line">    &quot;id&quot;: 8,</div>
<div class="line">    &quot;coordinates&quot;:</div>
<div class="line">    [[&quot;0&quot;,&quot;0&quot;,&quot;0&quot;],</div>
<div class="line">    [&quot;0&quot;,&quot;70&quot;,&quot;0&quot;],</div>
<div class="line">    [&quot;0&quot;,&quot;137.01&quot;,&quot;0&quot;],</div>
<div class="line">    [&quot;-39.39&quot;,&quot;91.75&quot;,&quot;0&quot;],</div>
<div class="line">    [&quot;47.04&quot;,&quot;92.16&quot;,&quot;0&quot;]]},</div>
<div class="line">    </div>
<div class="line">    {&quot;name&quot;: &quot;Triangle&quot;,</div>
<div class="line">    &quot;id&quot;: 9,</div>
<div class="line">    &quot;coordinates&quot;:</div>
<div class="line">    [[&quot;0&quot;,&quot;0&quot;,&quot;0&quot;],</div>
<div class="line">    [&quot;97.29&quot;,&quot;-11.77&quot;,&quot;0&quot;],</div>
<div class="line">    [&quot;112.23&quot;,&quot;38.4&quot;,&quot;0&quot;]]}</div>
<div class="line">]</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
